{
  "family": "imobi-directus-postgres",
  "networkMode": "awsvpc",
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "512",
  "memory": "1024",
  "executionRoleArn": "arn:aws:iam::575098225472:role/ecsTaskExecutionRole",
  "containerDefinitions": [{
    "name": "directus",
    "image": "575098225472.dkr.ecr.sa-east-1.amazonaws.com/imobi-directus:latest",
    "essential": true,
    "portMappings": [{"containerPort": 8055, "protocol": "tcp"}],
    "environment": [
      {"name": "DB_CLIENT", "value": "pg"},
      {"name": "DB_HOST", "value": "RDS_ENDPOINT"},
      {"name": "DB_PORT", "value": "5432"},
      {"name": "DB_DATABASE", "value": "imobi"},
      {"name": "DB_USER", "value": "imobi_admin"},
      {"name": "DB_PASSWORD", "value": "iMobiDB2024!"},
      {"name": "ADMIN_EMAIL", "value": "marcus@admin.com"},
      {"name": "ADMIN_PASSWORD", "value": "Teste@123"},
      {"name": "KEY", "value": "9jGemQLwJRgHky1Ct2B7dsT5Zir8YM34"},
      {"name": "SECRET", "value": "PRBqIAFZ9SG7Trhgjdfywm2X6kMoHCQO"},
      {"name": "CORS_ENABLED", "value": "true"}
    ],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-create-group": "true",
        "awslogs-group": "/ecs/imobi-directus-pg",
        "awslogs-region": "sa-east-1",
        "awslogs-stream-prefix": "directus"
      }
    }
  }]
}
